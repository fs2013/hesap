---

title: optionsseasonal


keywords: fastai
sidebar: home_sidebar

summary: "seasonal equity performance is used to guestimate performance probability"
description: "seasonal equity performance is used to guestimate performance probability"
nb_path: "02_optionsseasonal.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_optionsseasonal.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="weekly_returns" class="doc_header"><code>weekly_returns</code><a href="https://github.com/fs2013/hesap/tree/master/hesap/optionsseasonal.py#L24" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>weekly_returns</code>(<strong><code>df</code></strong>)</p>
</blockquote>
<p>Processes the daily adjusted close prices to produce 35 to 45 week forward
performances</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="build_weekly_db" class="doc_header"><code>build_weekly_db</code><a href="https://github.com/fs2013/hesap/tree/master/hesap/optionsseasonal.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>build_weekly_db</code>(<strong><code>tickers</code></strong>:<code>List</code>[<code>str</code>], <strong><code>db_path</code></strong>:<code>str</code>, <strong><code>start_date</code></strong>:<code>str</code>=<em><code>'2000-01-01'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">(</span><span class="s1">&#39;../my_secrets/options_weekly.yml&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cfg</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">:</span><span class="se">\t</span><span class="si">{</span><span class="n">cfg</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">tickers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;ticker_path&#39;</span><span class="p">],</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;ticker&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tickers</span><span class="p">)</span>
<span class="c1"># build_weekly_db(tickers, cfg[&#39;db_path&#39;], &#39;1990-01-01&#39;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>db_path:	/Users/fahrisurucu/Projects/my_data/
ticker_path:	/Users/fahrisurucu/Projects/my_secrets/sp500_20210613.tsv
[&#39;MMM&#39;, &#39;ABT&#39;, &#39;ABBV&#39;, &#39;ABMD&#39;, &#39;ACN&#39;, &#39;ATVI&#39;, &#39;ADBE&#39;, &#39;AMD&#39;, &#39;AAP&#39;, &#39;AES&#39;, &#39;AFL&#39;, &#39;A&#39;, &#39;APD&#39;, &#39;AKAM&#39;, &#39;ALK&#39;, &#39;ALB&#39;, &#39;ARE&#39;, &#39;ALXN&#39;, &#39;ALGN&#39;, &#39;ALLE&#39;, &#39;LNT&#39;, &#39;ALL&#39;, &#39;GOOGL&#39;, &#39;MO&#39;, &#39;AMZN&#39;, &#39;AMCR&#39;, &#39;AEE&#39;, &#39;AAL&#39;, &#39;AEP&#39;, &#39;AXP&#39;, &#39;AIG&#39;, &#39;AMT&#39;, &#39;AWK&#39;, &#39;AMP&#39;, &#39;ABC&#39;, &#39;AME&#39;, &#39;AMGN&#39;, &#39;APH&#39;, &#39;ADI&#39;, &#39;ANSS&#39;, &#39;ANTM&#39;, &#39;AON&#39;, &#39;AOS&#39;, &#39;APA&#39;, &#39;AAPL&#39;, &#39;AMAT&#39;, &#39;APTV&#39;, &#39;ADM&#39;, &#39;ANET&#39;, &#39;AJG&#39;, &#39;AIZ&#39;, &#39;T&#39;, &#39;ATO&#39;, &#39;ADSK&#39;, &#39;ADP&#39;, &#39;AZO&#39;, &#39;AVB&#39;, &#39;AVY&#39;, &#39;BKR&#39;, &#39;BLL&#39;, &#39;BAC&#39;, &#39;BK&#39;, &#39;BAX&#39;, &#39;BDX&#39;, &#39;BRK.B&#39;, &#39;BBY&#39;, &#39;BIO&#39;, &#39;BIIB&#39;, &#39;BLK&#39;, &#39;BA&#39;, &#39;BKNG&#39;, &#39;BWA&#39;, &#39;BXP&#39;, &#39;BSX&#39;, &#39;BMY&#39;, &#39;AVGO&#39;, &#39;BR&#39;, &#39;CHRW&#39;, &#39;BA&#39;, &#39;BKNG&#39;, &#39;BWA&#39;, &#39;BXP&#39;, &#39;BSX&#39;, &#39;BMY&#39;, &#39;AVGO&#39;, &#39;BR&#39;, &#39;BF.B&#39;, &#39;CHRW&#39;, &#39;COG&#39;, &#39;CDNS&#39;, &#39;CPB&#39;, &#39;COF&#39;, &#39;CAH&#39;, &#39;KMX&#39;, &#39;CCL&#39;, &#39;CARR&#39;, &#39;CTLT&#39;, &#39;CAT&#39;, &#39;CBOE&#39;, &#39;CBRE&#39;, &#39;CDW&#39;, &#39;CE&#39;, &#39;CNC&#39;, &#39;CNP&#39;, &#39;CERN&#39;, &#39;CF&#39;, &#39;SCHW&#39;, &#39;CHTR&#39;, &#39;CVX&#39;, &#39;CMG&#39;, &#39;CB&#39;, &#39;CHD&#39;, &#39;CI&#39;, &#39;CINF&#39;, &#39;CTAS&#39;, &#39;CSCO&#39;, &#39;C&#39;, &#39;CFG&#39;, &#39;CTXS&#39;, &#39;CLX&#39;, &#39;CME&#39;, &#39;CMS&#39;, &#39;KO&#39;, &#39;CTSH&#39;, &#39;CL&#39;, &#39;CMCSA&#39;, &#39;CMA&#39;, &#39;CAG&#39;, &#39;COP&#39;, &#39;ED&#39;, &#39;STZ&#39;, &#39;COO&#39;, &#39;CPRT&#39;, &#39;GLW&#39;, &#39;CTVA&#39;, &#39;COST&#39;, &#39;CCI&#39;, &#39;CSX&#39;, &#39;CMI&#39;, &#39;CVS&#39;, &#39;DHI&#39;, &#39;DHR&#39;, &#39;DRI&#39;, &#39;DVA&#39;, &#39;DE&#39;, &#39;DAL&#39;, &#39;XRAY&#39;, &#39;DVN&#39;, &#39;DXCM&#39;, &#39;FANG&#39;, &#39;DLR&#39;, &#39;DFS&#39;, &#39;DISCA&#39;, &#39;DISCK&#39;, &#39;DISH&#39;, &#39;DG&#39;, &#39;DLTR&#39;, &#39;D&#39;, &#39;DPZ&#39;, &#39;DOV&#39;, &#39;DOW&#39;, &#39;DTE&#39;, &#39;DUK&#39;, &#39;DRE&#39;, &#39;DD&#39;, &#39;DXC&#39;, &#39;EMN&#39;, &#39;ETN&#39;, &#39;EBAY&#39;, &#39;ECL&#39;, &#39;EIX&#39;, &#39;EW&#39;, &#39;EA&#39;, &#39;EMR&#39;, &#39;ENPH&#39;, &#39;ETR&#39;, &#39;EOG&#39;, &#39;EFX&#39;, &#39;EQIX&#39;, &#39;EQR&#39;, &#39;ESS&#39;, &#39;EL&#39;, &#39;ETSY&#39;, &#39;EVRG&#39;, &#39;ES&#39;, &#39;RE&#39;, &#39;EXC&#39;, &#39;EXPE&#39;, &#39;EXPD&#39;, &#39;EXR&#39;, &#39;XOM&#39;, &#39;FFIV&#39;, &#39;FB&#39;, &#39;FAST&#39;, &#39;FRT&#39;, &#39;FDX&#39;, &#39;FIS&#39;, &#39;FITB&#39;, &#39;FE&#39;, &#39;FRC&#39;, &#39;FISV&#39;, &#39;FLT&#39;, &#39;FLIR&#39;, &#39;FLS&#39;, &#39;FMC&#39;, &#39;F&#39;, &#39;FTNT&#39;, &#39;FTV&#39;, &#39;FBHS&#39;, &#39;FOX&#39;, &#39;BEN&#39;, &#39;FCX&#39;, &#39;GPS&#39;, &#39;GRMN&#39;, &#39;IT&#39;, &#39;GD&#39;, &#39;GE&#39;, &#39;GIS&#39;, &#39;GM&#39;, &#39;GPC&#39;, &#39;GILD&#39;, &#39;GL&#39;, &#39;GPN&#39;, &#39;GS&#39;, &#39;GWW&#39;, &#39;HAL&#39;, &#39;HBI&#39;, &#39;HIG&#39;, &#39;HAS&#39;, &#39;HCA&#39;, &#39;PEAK&#39;, &#39;HSIC&#39;, &#39;HSY&#39;, &#39;HES&#39;, &#39;HPE&#39;, &#39;HLT&#39;, &#39;HFC&#39;, &#39;HOLX&#39;, &#39;HD&#39;, &#39;HON&#39;, &#39;HRL&#39;, &#39;HST&#39;, &#39;HWM&#39;, &#39;HPQ&#39;, &#39;HUM&#39;, &#39;HBAN&#39;, &#39;HII&#39;, &#39;IEX&#39;, &#39;IDXX&#39;, &#39;INFO&#39;, &#39;ITW&#39;, &#39;ILMN&#39;, &#39;INCY&#39;, &#39;IR&#39;, &#39;INTC&#39;, &#39;ICE&#39;, &#39;IBM&#39;, &#39;IP&#39;, &#39;IPG&#39;, &#39;IFF&#39;, &#39;INTU&#39;, &#39;ISRG&#39;, &#39;IVZ&#39;, &#39;IPGP&#39;, &#39;IQV&#39;, &#39;IRM&#39;, &#39;JKHY&#39;, &#39;J&#39;, &#39;JBHT&#39;, &#39;SJM&#39;, &#39;JNJ&#39;, &#39;JCI&#39;, &#39;JPM&#39;, &#39;JNPR&#39;, &#39;KSU&#39;, &#39;K&#39;, &#39;KEY&#39;, &#39;KEYS&#39;, &#39;KMB&#39;, &#39;KIM&#39;, &#39;KMI&#39;, &#39;KLAC&#39;, &#39;KHC&#39;, &#39;KR&#39;, &#39;LB&#39;, &#39;LHX&#39;, &#39;LH&#39;, &#39;LRCX&#39;, &#39;LW&#39;, &#39;LVS&#39;, &#39;LEG&#39;, &#39;LDOS&#39;, &#39;LEN&#39;, &#39;LLY&#39;, &#39;LNC&#39;, &#39;LIN&#39;, &#39;LYV&#39;, &#39;LKQ&#39;, &#39;LMT&#39;, &#39;L&#39;, &#39;LOW&#39;, &#39;LUMN&#39;, &#39;LYB&#39;, &#39;MTB&#39;, &#39;MRO&#39;, &#39;MPC&#39;, &#39;MKTX&#39;, &#39;MAR&#39;, &#39;MMC&#39;, &#39;MLM&#39;, &#39;MAS&#39;, &#39;MA&#39;, &#39;MKC&#39;, &#39;MXIM&#39;, &#39;MCD&#39;, &#39;MCK&#39;, &#39;MDT&#39;, &#39;MRK&#39;, &#39;MET&#39;, &#39;MTD&#39;, &#39;MGM&#39;, &#39;MCHP&#39;, &#39;MU&#39;, &#39;MSFT&#39;, &#39;MAA&#39;, &#39;MHK&#39;, &#39;TAP&#39;, &#39;MDLZ&#39;, &#39;MPWR&#39;, &#39;MNST&#39;, &#39;MCO&#39;, &#39;MS&#39;, &#39;MOS&#39;, &#39;MSI&#39;, &#39;MSCI&#39;, &#39;NDAQ&#39;, &#39;NTAP&#39;, &#39;NFLX&#39;, &#39;NWL&#39;, &#39;NEM&#39;, &#39;NWS&#39;, &#39;NEE&#39;, &#39;NLSN&#39;, &#39;NKE&#39;, &#39;NI&#39;, &#39;NSC&#39;, &#39;NTRS&#39;, &#39;NOC&#39;, &#39;NLOK&#39;, &#39;NCLH&#39;, &#39;NOV&#39;, &#39;NRG&#39;, &#39;NUE&#39;, &#39;NVDA&#39;, &#39;NVR&#39;, &#39;ORLY&#39;, &#39;OXY&#39;, &#39;ODFL&#39;, &#39;OMC&#39;, &#39;OKE&#39;, &#39;ORCL&#39;, &#39;OTIS&#39;, &#39;PCAR&#39;, &#39;PKG&#39;, &#39;PH&#39;, &#39;PAYX&#39;, &#39;PAYC&#39;, &#39;PYPL&#39;, &#39;PNR&#39;, &#39;PBCT&#39;, &#39;PEP&#39;, &#39;PKI&#39;, &#39;PRGO&#39;, &#39;PFE&#39;, &#39;PM&#39;, &#39;PSX&#39;, &#39;PNW&#39;, &#39;PXD&#39;, &#39;PNC&#39;, &#39;POOL&#39;, &#39;PPG&#39;, &#39;PPL&#39;, &#39;PFG&#39;, &#39;PG&#39;, &#39;PGR&#39;, &#39;PLD&#39;, &#39;PRU&#39;, &#39;PEG&#39;, &#39;PSA&#39;, &#39;PHM&#39;, &#39;PVH&#39;, &#39;QRVO&#39;, &#39;PWR&#39;, &#39;QCOM&#39;, &#39;DGX&#39;, &#39;RL&#39;, &#39;RJF&#39;, &#39;RTX&#39;, &#39;O&#39;, &#39;REG&#39;, &#39;REGN&#39;, &#39;RF&#39;, &#39;RSG&#39;, &#39;RMD&#39;, &#39;RHI&#39;, &#39;ROK&#39;, &#39;ROL&#39;, &#39;ROP&#39;, &#39;ROST&#39;, &#39;RCL&#39;, &#39;SPGI&#39;, &#39;CRM&#39;, &#39;SBAC&#39;, &#39;SLB&#39;, &#39;STX&#39;, &#39;SEE&#39;, &#39;SRE&#39;, &#39;NOW&#39;, &#39;SHW&#39;, &#39;SPG&#39;, &#39;SWKS&#39;, &#39;SLG&#39;, &#39;SNA&#39;, &#39;SO&#39;, &#39;LUV&#39;, &#39;SWK&#39;, &#39;SBUX&#39;, &#39;STT&#39;, &#39;STE&#39;, &#39;SYK&#39;, &#39;SIVB&#39;, &#39;SYF&#39;, &#39;SNPS&#39;, &#39;SYY&#39;, &#39;TMUS&#39;, &#39;TROW&#39;, &#39;TTWO&#39;, &#39;TPR&#39;, &#39;TGT&#39;, &#39;TEL&#39;, &#39;TDY&#39;, &#39;TFX&#39;, &#39;TER&#39;, &#39;TSLA&#39;, &#39;TXN&#39;, &#39;TXT&#39;, &#39;TMO&#39;, &#39;TJX&#39;, &#39;TSCO&#39;, &#39;TT&#39;, &#39;TDG&#39;, &#39;TRV&#39;, &#39;TRMB&#39;, &#39;TFC&#39;, &#39;TWTR&#39;, &#39;TYL&#39;, &#39;TSN&#39;, &#39;UDR&#39;, &#39;ULTA&#39;, &#39;USB&#39;, &#39;UAA&#39;, &#39;UA&#39;, &#39;UNP&#39;, &#39;UAL&#39;, &#39;UNH&#39;, &#39;UPS&#39;, &#39;URI&#39;, &#39;UHS&#39;, &#39;UNM&#39;, &#39;VLO&#39;, &#39;VAR&#39;, &#39;VTR&#39;, &#39;VRSN&#39;, &#39;VRSK&#39;, &#39;VZ&#39;, &#39;VRTX&#39;, &#39;VFC&#39;, &#39;VIAC&#39;, &#39;VTRS&#39;, &#39;V&#39;, &#39;VNT&#39;, &#39;VNO&#39;, &#39;VMC&#39;, &#39;WRB&#39;, &#39;WAB&#39;, &#39;WMT&#39;, &#39;WBA&#39;, &#39;DIS&#39;, &#39;WM&#39;, &#39;WAT&#39;, &#39;WEC&#39;, &#39;WFC&#39;, &#39;WELL&#39;, &#39;WST&#39;, &#39;WDC&#39;, &#39;WU&#39;, &#39;WRK&#39;, &#39;WY&#39;, &#39;WHR&#39;, &#39;WMB&#39;, &#39;WLTW&#39;, &#39;WYNN&#39;, &#39;XEL&#39;, &#39;XRX&#39;, &#39;XLNX&#39;, &#39;XYL&#39;, &#39;YUM&#39;, &#39;ZBRA&#39;, &#39;ZBH&#39;, &#39;ZION&#39;, &#39;ZTS&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="n">get_history_yf</span><span class="p">(</span><span class="s1">&#39;VNT&#39;</span><span class="p">)</span>
<span class="n">prices</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[*********************100%***********************]  1 of 1 completed
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>adj_close</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-09-24</th>
      <td>36.00</td>
      <td>36.0</td>
      <td>34.00</td>
      <td>34.0</td>
      <td>33.975784</td>
      <td>743500</td>
    </tr>
    <tr>
      <th>2020-09-28</th>
      <td>35.00</td>
      <td>35.0</td>
      <td>33.00</td>
      <td>33.0</td>
      <td>32.976494</td>
      <td>150500</td>
    </tr>
    <tr>
      <th>2020-09-29</th>
      <td>30.50</td>
      <td>30.5</td>
      <td>30.50</td>
      <td>30.5</td>
      <td>30.478275</td>
      <td>220200</td>
    </tr>
    <tr>
      <th>2020-09-30</th>
      <td>30.75</td>
      <td>31.0</td>
      <td>30.75</td>
      <td>31.0</td>
      <td>30.977919</td>
      <td>21900</td>
    </tr>
    <tr>
      <th>2020-10-01</th>
      <td>34.00</td>
      <td>34.0</td>
      <td>34.00</td>
      <td>34.0</td>
      <td>33.975784</td>
      <td>43600</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

