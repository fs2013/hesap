---

title: optionsseasonal


keywords: fastai
sidebar: home_sidebar

summary: "seasonal equity performance is used to guestimate performance probability"
description: "seasonal equity performance is used to guestimate performance probability"
nb_path: "02_optionsseasonal.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 02_optionsseasonal.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">load_ext</span> autoreload
<span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The autoreload extension is already loaded. To reload it, use:
  %reload_ext autoreload
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="weekly_returns" class="doc_header"><code>weekly_returns</code><a href="https://github.com/fs2013/hesap/tree/master/hesap/optionsseasonal.py#L24" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>weekly_returns</code>(<strong><code>df</code></strong>)</p>
</blockquote>
<p>Processes the daily adjusted close prices to produce 35 to 45 week forward
performances</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="build_weekly_db" class="doc_header"><code>build_weekly_db</code><a href="https://github.com/fs2013/hesap/tree/master/hesap/optionsseasonal.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>build_weekly_db</code>(<strong><code>tickers</code></strong>:<code>List</code>[<code>str</code>], <strong><code>db_path</code></strong>:<code>str</code>, <strong><code>start_date</code></strong>:<code>str</code>=<em><code>'2000-01-01'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">prices</span> <span class="o">=</span> <span class="n">get_history_yf</span><span class="p">(</span><span class="s1">&#39;VNT&#39;</span><span class="p">)</span>
<span class="n">prices</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[*********************100%***********************]  1 of 1 completed
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Open</th>
      <th>High</th>
      <th>Low</th>
      <th>Close</th>
      <th>adj_close</th>
      <th>Volume</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-09-24</th>
      <td>36.00</td>
      <td>36.0</td>
      <td>34.00</td>
      <td>34.0</td>
      <td>33.975784</td>
      <td>743500</td>
    </tr>
    <tr>
      <th>2020-09-28</th>
      <td>35.00</td>
      <td>35.0</td>
      <td>33.00</td>
      <td>33.0</td>
      <td>32.976494</td>
      <td>150500</td>
    </tr>
    <tr>
      <th>2020-09-29</th>
      <td>30.50</td>
      <td>30.5</td>
      <td>30.50</td>
      <td>30.5</td>
      <td>30.478275</td>
      <td>220200</td>
    </tr>
    <tr>
      <th>2020-09-30</th>
      <td>30.75</td>
      <td>31.0</td>
      <td>30.75</td>
      <td>31.0</td>
      <td>30.977919</td>
      <td>21900</td>
    </tr>
    <tr>
      <th>2020-10-01</th>
      <td>34.00</td>
      <td>34.0</td>
      <td>34.00</td>
      <td>34.0</td>
      <td>33.975784</td>
      <td>43600</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rets</span><span class="p">,</span> <span class="n">means</span> <span class="o">=</span> <span class="n">weekly_returns</span><span class="p">(</span><span class="n">prices</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> 2:	0.0	100.0
 3:	0.0	100.0
 4:	0.0	100.0
 5:	0.0	100.0
 6:	0.0	100.0
 7:	4.55	95.45
10:	98.18	1.82
11:	100.0	0.0
12:	100.0	0.0
13:	100.0	0.0
14:	98.18	0.0
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-67-981ef94fee01&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">----&gt; 1</span><span class="ansi-red-fg"> </span>rets<span class="ansi-blue-fg">,</span> means <span class="ansi-blue-fg">=</span> weekly_returns<span class="ansi-blue-fg">(</span>prices<span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">&lt;ipython-input-62-c909d5298911&gt;</span> in <span class="ansi-cyan-fg">weekly_returns</span><span class="ansi-blue-fg">(df)</span>
<span class="ansi-green-intense-fg ansi-bold">     53</span>         rets<span class="ansi-blue-fg">[</span>week<span class="ansi-blue-fg">]</span> <span class="ansi-blue-fg">=</span> pd<span class="ansi-blue-fg">.</span>DataFrame<span class="ansi-blue-fg">(</span>rets<span class="ansi-blue-fg">[</span>week<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     54</span> 
<span class="ansi-green-fg">---&gt; 55</span><span class="ansi-red-fg">         </span>up_mean <span class="ansi-blue-fg">=</span> round<span class="ansi-blue-fg">(</span>rets<span class="ansi-blue-fg">[</span>week<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>up_conf<span class="ansi-blue-fg">.</span>mean<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     56</span>         dn_mean <span class="ansi-blue-fg">=</span> round<span class="ansi-blue-fg">(</span>rets<span class="ansi-blue-fg">[</span>week<span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>dn_conf<span class="ansi-blue-fg">.</span>mean<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> <span class="ansi-cyan-fg">2</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     57</span>         means<span class="ansi-blue-fg">.</span>append<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">{</span><span class="ansi-blue-fg">&#39;week&#39;</span><span class="ansi-blue-fg">:</span> week<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;up_mean&#39;</span><span class="ansi-blue-fg">:</span> up_mean<span class="ansi-blue-fg">,</span> <span class="ansi-blue-fg">&#39;dn_mean&#39;</span><span class="ansi-blue-fg">:</span> dn_mean<span class="ansi-blue-fg">}</span><span class="ansi-blue-fg">)</span>

<span class="ansi-green-fg">~/opt/anaconda3/envs/fsx_env/lib/python3.7/site-packages/pandas/core/generic.py</span> in <span class="ansi-cyan-fg">__getattr__</span><span class="ansi-blue-fg">(self, name)</span>
<span class="ansi-green-intense-fg ansi-bold">   5463</span>             <span class="ansi-green-fg">if</span> self<span class="ansi-blue-fg">.</span>_info_axis<span class="ansi-blue-fg">.</span>_can_hold_identifiers_and_holds_name<span class="ansi-blue-fg">(</span>name<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">:</span>
<span class="ansi-green-intense-fg ansi-bold">   5464</span>                 <span class="ansi-green-fg">return</span> self<span class="ansi-blue-fg">[</span>name<span class="ansi-blue-fg">]</span>
<span class="ansi-green-fg">-&gt; 5465</span><span class="ansi-red-fg">             </span><span class="ansi-green-fg">return</span> object<span class="ansi-blue-fg">.</span>__getattribute__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> name<span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   5466</span> 
<span class="ansi-green-intense-fg ansi-bold">   5467</span>     <span class="ansi-green-fg">def</span> __setattr__<span class="ansi-blue-fg">(</span>self<span class="ansi-blue-fg">,</span> name<span class="ansi-blue-fg">:</span> str<span class="ansi-blue-fg">,</span> value<span class="ansi-blue-fg">)</span> <span class="ansi-blue-fg">-&gt;</span> <span class="ansi-green-fg">None</span><span class="ansi-blue-fg">:</span>

<span class="ansi-red-fg">AttributeError</span>: &#39;DataFrame&#39; object has no attribute &#39;up_conf&#39;</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">prices</span>
<span class="k">if</span> <span class="kc">True</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Processes the daily adjusted close prices to produce 35 to 45 week forward</span>
<span class="sd">    performances</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isocalendar</span><span class="p">()</span><span class="o">.</span><span class="n">year</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;week&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Int64Index</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isocalendar</span><span class="p">()</span><span class="o">.</span><span class="n">week</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">46</span><span class="p">):</span>
        <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="sa">f</span><span class="s1">&#39;forward</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;adj_close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">-</span><span class="n">n</span><span class="p">)</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="s1">&#39;adj_close&#39;</span><span class="p">]</span>

    <span class="n">rets</span><span class="p">,</span> <span class="n">forwards</span><span class="p">,</span> <span class="n">means</span> <span class="o">=</span> <span class="p">{},</span> <span class="p">{},</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">week</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">52</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">week</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">week</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">week</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span> <span class="k">continue</span>
        <span class="n">forwards</span><span class="p">[</span><span class="n">week</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">week</span> <span class="o">==</span> <span class="n">week</span><span class="p">,</span>
                                <span class="p">[</span><span class="s1">&#39;forward35&#39;</span><span class="p">,</span> <span class="s1">&#39;forward36&#39;</span><span class="p">,</span> <span class="s1">&#39;forward37&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;forward38&#39;</span><span class="p">,</span> <span class="s1">&#39;forward39&#39;</span><span class="p">,</span> <span class="s1">&#39;forward40&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;forward41&#39;</span><span class="p">,</span> <span class="s1">&#39;forward42&#39;</span><span class="p">,</span> <span class="s1">&#39;forward43&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;forward44&#39;</span><span class="p">,</span> <span class="s1">&#39;forward45&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">]]</span>

        <span class="n">years</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">forwards</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">year</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
        <span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">years</span><span class="p">:</span>
            <span class="n">returns</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">46</span><span class="p">):</span>
                <span class="n">returns</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">forwards</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">forwards</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">year</span><span class="p">),</span> <span class="sa">f</span><span class="s1">&#39;forward</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
            <span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="n">year</span><span class="p">,</span>
                <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="nb">min</span><span class="p">(</span><span class="n">returns</span><span class="p">),</span>
                <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="n">returns</span><span class="p">),</span>
                <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">returns</span><span class="p">),</span>
                <span class="s1">&#39;std&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">returns</span><span class="p">),</span>
                <span class="s1">&#39;up_conf&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">returns</span> <span class="k">if</span> <span class="n">r</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">,</span>
                <span class="s1">&#39;dn_conf&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">returns</span> <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">returns</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
            <span class="p">})</span>
        <span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">])</span>

        <span class="n">up_mean</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">up_conf</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">dn_mean</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">rets</span><span class="p">[</span><span class="n">week</span><span class="p">]</span><span class="o">.</span><span class="n">dn_conf</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">means</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;week&#39;</span><span class="p">:</span> <span class="n">week</span><span class="p">,</span> <span class="s1">&#39;up_mean&#39;</span><span class="p">:</span> <span class="n">up_mean</span><span class="p">,</span> <span class="s1">&#39;dn_mean&#39;</span><span class="p">:</span> <span class="n">dn_mean</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">up_mean</span> <span class="o">&gt;</span> <span class="mi">80</span> <span class="ow">or</span> <span class="n">dn_mean</span> <span class="o">&gt;</span> <span class="mi">80</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">week</span><span class="si">:</span><span class="s1">2</span><span class="si">}</span><span class="s1">:</span><span class="se">\t</span><span class="si">{</span><span class="n">up_mean</span><span class="si">}</span><span class="se">\t</span><span class="si">{</span><span class="n">dn_mean</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2
 2:	0.0	100.0
3
 3:	0.0	100.0
4
 4:	0.0	100.0
5
 5:	0.0	100.0
6
 6:	0.0	100.0
7
 7:	4.55	95.45
8
9
10
10:	98.18	1.82
11
11:	100.0	0.0
12
12:	100.0	0.0
13
13:	100.0	0.0
14
14:	98.18	0.0
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
39:	9.09	90.91
40
41
42
42:	100.0	0.0
43
43:	100.0	0.0
44
44:	100.0	0.0
45
45:	100.0	0.0
46
46:	100.0	0.0
47
47:	100.0	0.0
48
49
50
50:	98.18	1.82
51
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rets</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>dict_keys([2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ticker</span> <span class="o">=</span> <span class="s1">&#39;AAPL&#39;</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">rets</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">db_path</span><span class="si">}</span><span class="s1">/rets/</span><span class="si">{</span><span class="n">ticker</span><span class="si">}</span><span class="s1">.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/fahrisurucu/opt/anaconda3/envs/fsx_env/lib/python3.7/site-packages/pandas/core/internals/construction.py:309: VisibleDeprecationWarning: Creating an ndarray from ragged nested sequences (which is a list-or-tuple of lists-or-tuples-or ndarrays with different lengths or shapes) is deprecated. If you meant to do this, you must specify &#39;dtype=object&#39; when creating the ndarray.
  values = np.array([convert(v) for v in values])
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

